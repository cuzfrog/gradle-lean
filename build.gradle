plugins {
    id 'java-gradle-plugin'
}

version = '0.0.1-SNAPSHOT'

gradlePlugin {
    plugins {
        leanPlugin {
            id = 'com.github.cuzfrog.gradle.lean.LeanPlugin'
            implementationClass = 'com.github.cuzfrog.gradle.lean.LeanPlugin'
        }
    }
}

dependencies {
    compile gradleApi()
    compile 'org.vafer:jdependency:1.4'
    testCompile('org.junit.jupiter:junit-jupiter-api:5.2.0')
    testRuntime('org.junit.jupiter:junit-jupiter-engine:5.2.0')
    testCompile("org.assertj:assertj-core:3.10.0")
    testCompile("com.google.guava:guava:23.0")
    testCompile("com.google.jimfs:jimfs:1.1")
    testCompile('org.mockito:mockito-core:2.19.0')
    //testRuntime('ch.qos.logback:logback-classic:1.2.3')
}

configurations {
    testRuntime.exclude group: 'org.gradle.internal.logging'
}

repositories {
    mavenLocal()
    maven {
        url = "http://maven.aliyun.com/nexus/content/groups/public"
    }
}

test {
    useJUnitPlatform()
}